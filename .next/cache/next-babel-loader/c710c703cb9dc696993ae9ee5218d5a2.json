{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\my-projects\\\\shoe-store\\\\components\\\\ProductsList.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState, Fragment } from 'react';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col, Toast } from 'reactstrap';\nimport { useRouter } from 'next/router';\nimport { AppContext } from '../lib/AppContext';\nimport { getUniqueProducts } from '../lib/utils';\n\nvar AddToCartButton = function AddToCartButton(_ref) {\n  _s();\n\n  var onClickCallback = _ref.onClickCallback;\n\n  var _useState = useState({\n    text: 'Add To Cart',\n    addedToCard: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var router = useRouter();\n\n  var onClick = function onClick() {\n    if (!state.addedToCart) {\n      setState({\n        text: 'Go To Cart',\n        addedToCart: true\n      });\n      onClickCallback();\n    } else {\n      router.push('/cart');\n    }\n  };\n\n  return __jsx(Button, {\n    onClick: onClick,\n    className: \"float-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 3\n    }\n  }, state.text);\n};\n\n_s(AddToCartButton, \"aoTUqui3WL2tnUF16a2Jujx8FdY=\", false, function () {\n  return [useRouter];\n});\n\n_c = AddToCartButton;\n\nvar ProductsList = function ProductsList(_ref2) {\n  _s2();\n\n  var products = _ref2.products;\n\n  var _useContext = useContext(AppContext),\n      globalStore = _useContext.globalStore,\n      updateStore = _useContext.updateStore;\n\n  var _useState2 = useState(false),\n      showToast = _useState2[0],\n      setShowToast = _useState2[1];\n\n  var user = globalStore.user,\n      cart = globalStore.cart;\n\n  var addProductToCart = function addProductToCart(product) {\n    var cartData = _objectSpread({}, product);\n\n    var updatedCart = _toConsumableArray(cart);\n\n    updatedCart.push(cartData);\n    updateStore('cart', getUniqueProducts(updatedCart));\n    localStorage.setItem('cart', JSON.stringify(updatedCart));\n    setShowToast(true);\n    setTimeout(function () {\n      return setShowToast(false);\n    }, 2500);\n  };\n\n  return __jsx(\"div\", {\n    className: \"product-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }\n  }, showToast && __jsx(Toast, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 18\n    }\n  }, \"Product Added To cart\"), products.map(function (product, i) {\n    var addedToCart = false;\n    return __jsx(Row, {\n      className: \"mb-2\",\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, __jsx(Card, {\n      className: \"p-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 8\n      }\n    }, __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 10\n      }\n    }, __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 12\n      }\n    }, __jsx(\"div\", {\n      className: \"product-image\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      width: \"100%\",\n      height: \"100%\",\n      src: \"\".concat(product.displayImage),\n      alt: \"Card image cap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }\n    }))), __jsx(Col, {\n      className: 'align-self-center',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 12\n      }\n    }, __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 14\n      }\n    }, __jsx(CardTitle, {\n      className: \"pl-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, product.name))), __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 14\n      }\n    }, __jsx(CardSubtitle, {\n      className: \"pl-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, \"Rs. \", product.price)))))), __jsx(Col, {\n      className: 'align-self-center',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 10\n      }\n    }, __jsx(AddToCartButton, {\n      onClickCallback: function onClickCallback() {\n        return addProductToCart(product);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }))))));\n  }));\n};\n\n_s2(ProductsList, \"R1H1K4MFv6rqLL9BFHSPJv3e9Kk=\");\n\n_c2 = ProductsList;\nexport default ProductsList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddToCartButton\");\n$RefreshReg$(_c2, \"ProductsList\");","map":{"version":3,"sources":["C:/my-projects/shoe-store/components/ProductsList.js"],"names":["React","useContext","useState","Fragment","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Button","Row","Col","Toast","useRouter","AppContext","getUniqueProducts","AddToCartButton","onClickCallback","text","addedToCard","state","setState","router","onClick","addedToCart","push","ProductsList","products","globalStore","updateStore","showToast","setShowToast","user","cart","addProductToCart","product","cartData","updatedCart","localStorage","setItem","JSON","stringify","setTimeout","map","i","displayImage","name","price"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,QAAxB,EAAkCC,QAAlC,EAA4CC,SAA5C,EAAuDC,YAAvD,EAAqEC,MAArE,EAA6EC,GAA7E,EAAkFC,GAAlF,EAAuFC,KAAvF,QAAoG,YAApG;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,iBAAT,QAAkC,cAAlC;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAAyB;AAAA;;AAAA,MAAtBC,eAAsB,QAAtBA,eAAsB;;AAAA,kBACtBhB,QAAQ,CAAC;AAAEiB,IAAAA,IAAI,EAAE,aAAR;AAAuBC,IAAAA,WAAW,EAAE;AAApC,GAAD,CADc;AAAA,MACzCC,KADyC;AAAA,MAClCC,QADkC;;AAGhD,MAAMC,MAAM,GAAGT,SAAS,EAAxB;;AAEA,MAAMU,OAAO,GAAG,SAAVA,OAAU,GAAM;AACrB,QAAI,CAACH,KAAK,CAACI,WAAX,EAAwB;AACvBH,MAAAA,QAAQ,CAAC;AAAEH,QAAAA,IAAI,EAAE,YAAR;AAAsBM,QAAAA,WAAW,EAAE;AAAnC,OAAD,CAAR;AACAP,MAAAA,eAAe;AACf,KAHD,MAGO;AACNK,MAAAA,MAAM,CAACG,IAAP,CAAY,OAAZ;AACA;AACD,GAPD;;AAQA,SACC,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAEF,OAAjB;AAA0B,IAAA,SAAS,EAAC,aAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEH,KAAK,CAACF,IADR,CADD;AAKA,CAlBD;;GAAMF,e;UAGUH,S;;;KAHVG,e;;AAoBN,IAAMU,YAAY,GAAG,SAAfA,YAAe,QAAkB;AAAA;;AAAA,MAAfC,QAAe,SAAfA,QAAe;;AAAA,oBACD3B,UAAU,CAACc,UAAD,CADT;AAAA,MAC9Bc,WAD8B,eAC9BA,WAD8B;AAAA,MACjBC,WADiB,eACjBA,WADiB;;AAAA,mBAEJ5B,QAAQ,CAAC,KAAD,CAFJ;AAAA,MAE/B6B,SAF+B;AAAA,MAEpBC,YAFoB;;AAAA,MAI9BC,IAJ8B,GAIfJ,WAJe,CAI9BI,IAJ8B;AAAA,MAIxBC,IAJwB,GAIfL,WAJe,CAIxBK,IAJwB;;AAMtC,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,OAAD,EAAa;AACrC,QAAMC,QAAQ,qBAAQD,OAAR,CAAd;;AACA,QAAIE,WAAW,sBAAOJ,IAAP,CAAf;;AACAI,IAAAA,WAAW,CAACZ,IAAZ,CAAiBW,QAAjB;AACAP,IAAAA,WAAW,CAAC,MAAD,EAASd,iBAAiB,CAACsB,WAAD,CAA1B,CAAX;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,WAAf,CAA7B;AACAN,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAW,IAAAA,UAAU,CAAC;AAAA,aAAMX,YAAY,CAAC,KAAD,CAAlB;AAAA,KAAD,EAA4B,IAA5B,CAAV;AACA,GARD;;AAUA,SACC;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACED,SAAS,IAAI,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADf,EAEEH,QAAQ,CAACgB,GAAT,CAAa,UAACR,OAAD,EAAUS,CAAV,EAAgB;AAC7B,QAAMpB,WAAW,GAAG,KAApB;AACA,WACC,MAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,GAAG,EAAEoB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,IAAD;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,OAAD;AACC,MAAA,GAAG,MADJ;AAEC,MAAA,KAAK,EAAC,MAFP;AAGC,MAAA,MAAM,EAAC,MAHR;AAIC,MAAA,GAAG,YAAKT,OAAO,CAACU,YAAb,CAJJ;AAKC,MAAA,GAAG,EAAC,gBALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CADD,EAYC,MAAC,GAAD;AAAK,MAAA,SAAS,EAAE,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,SAAD;AAAW,MAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BV,OAAO,CAACW,IAArC,CADD,CADD,CADD,EAMC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,YAAD;AAAc,MAAA,SAAS,EAAC,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACMX,OAAO,CAACY,KADd,CADD,CADD,CAND,CAZD,CADD,CADD,EA8BC,MAAC,GAAD;AAAK,MAAA,SAAS,EAAE,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,eAAD;AAAiB,MAAA,eAAe,EAAE;AAAA,eAAMb,gBAAgB,CAACC,OAAD,CAAtB;AAAA,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CA9BD,CADD,CADD,CADD,CADD;AA0CA,GA5CA,CAFF,CADD;AAkDA,CAlED;;IAAMT,Y;;MAAAA,Y;AAoEN,eAAeA,YAAf","sourcesContent":["import React, { useContext, useState, Fragment } from 'react';\r\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col, Toast } from 'reactstrap';\r\nimport { useRouter } from 'next/router';\r\n\r\nimport { AppContext } from '../lib/AppContext';\r\nimport { getUniqueProducts } from '../lib/utils';\r\n\r\nconst AddToCartButton = ({ onClickCallback }) => {\r\n\tconst [state, setState] = useState({ text: 'Add To Cart', addedToCard: false });\r\n\r\n\tconst router = useRouter();\r\n\r\n\tconst onClick = () => {\r\n\t\tif (!state.addedToCart) {\r\n\t\t\tsetState({ text: 'Go To Cart', addedToCart: true });\r\n\t\t\tonClickCallback();\r\n\t\t} else {\r\n\t\t\trouter.push('/cart');\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Button onClick={onClick} className='float-right'>\r\n\t\t\t{state.text}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nconst ProductsList = ({ products }) => {\r\n\tconst { globalStore, updateStore } = useContext(AppContext);\r\n\tconst [showToast, setShowToast] = useState(false);\r\n\r\n\tconst { user, cart } = globalStore;\r\n\r\n\tconst addProductToCart = (product) => {\r\n\t\tconst cartData = { ...product };\r\n\t\tlet updatedCart = [...cart];\r\n\t\tupdatedCart.push(cartData);\r\n\t\tupdateStore('cart', getUniqueProducts(updatedCart));\r\n\t\tlocalStorage.setItem('cart', JSON.stringify(updatedCart));\r\n\t\tsetShowToast(true);\r\n\t\tsetTimeout(() => setShowToast(false), 2500);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='product-container'>\r\n\t\t\t{showToast && <Toast>Product Added To cart</Toast>}\r\n\t\t\t{products.map((product, i) => {\r\n\t\t\t\tconst addedToCart = false;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row className='mb-2' key={i}>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card className='p-2'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='product-image'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardImg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight='100%'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`${product.displayImage}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt='Card image cap'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col className={'align-self-center'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle className='pl-1'>{product.name}</CardTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardSubtitle className='pl-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRs. {product.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardSubtitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className={'align-self-center'}>\r\n\t\t\t\t\t\t\t\t\t\t<AddToCartButton onClickCallback={() => addProductToCart(product)} />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductsList;\r\n"]},"metadata":{},"sourceType":"module"}