{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport cookies from 'next-cookies';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, Dropdown, DropdownToggle, DropdownMenu, DropdownItem, NavbarText, Button, Badge } from 'reactstrap';\nimport { AppContext } from '../lib/AppContext';\n\nvar Header = function Header() {\n  var _useContext = useContext(AppContext),\n      globalStore = _useContext.globalStore;\n\n  var user = globalStore.user,\n      cart = globalStore.cart;\n  var router = useRouter();\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      dropdownOpen = _useState2[0],\n      setDropdownOpen = _useState2[1];\n\n  var toggleDropdown = function toggleDropdown() {\n    return setDropdownOpen(function (prevState) {\n      return !prevState;\n    });\n  };\n\n  var toggle = function toggle() {\n    return setIsOpen(!isOpen);\n  };\n\n  var doLogout = function doLogout() {\n    document.cookie = 'jwt=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT';\n    router.reload('/');\n  };\n\n  var goToOrders = function goToOrders() {\n    router.push('/orders');\n  };\n\n  var cartCount = cart.length > 0 ? \"\".concat(cart.length) : '0';\n  return __jsx(\"div\", {\n    className: \"navbar-container\"\n  }, __jsx(Navbar, {\n    expand: \"md\"\n  }, __jsx(NavbarBrand, {\n    href: \"/\"\n  }, \"Shoe Store\"), __jsx(NavbarToggler, {\n    onClick: toggle\n  }), __jsx(Collapse, {\n    isOpen: isOpen,\n    navbar: true\n  }, __jsx(Nav, {\n    className: \"ml-auto\",\n    navbar: true\n  }, __jsx(NavItem, null, __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(Button, {\n    className: \"mr-2\"\n  }, \"Cart \", __jsx(Badge, {\n    color: \"secondary\"\n  }, cartCount)))), user && __jsx(React.Fragment, null, __jsx(NavItem, null, __jsx(Dropdown, {\n    isOpen: dropdownOpen,\n    toggle: toggleDropdown\n  }, __jsx(DropdownToggle, {\n    caret: true\n  }, user.username), __jsx(DropdownMenu, null, __jsx(DropdownItem, {\n    onClick: doLogout\n  }, \"Logout\"), __jsx(DropdownItem, {\n    onClick: goToOrders\n  }, \"Orders\"))))), !user && __jsx(React.Fragment, null, __jsx(NavItem, null, __jsx(Link, {\n    href: \"/signin\"\n  }, __jsx(Button, {\n    className: \"mr-2\"\n  }, \"Sign in\"))), __jsx(NavItem, null, __jsx(Link, {\n    href: \"/signup\"\n  }, __jsx(Button, null, \"Sign up\"))))))));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}