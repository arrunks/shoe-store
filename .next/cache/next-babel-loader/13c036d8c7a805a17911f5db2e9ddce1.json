{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\my-projects\\\\shoe-store\\\\components\\\\ProductsList.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState } from 'react';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col } from 'reactstrap';\nimport { useRouter } from 'next/router';\nimport { AppContext } from '../lib/AppContext';\nimport { getUniqueProducts } from '../lib/utils';\n\nvar AddToCartButton = function AddToCartButton(_ref) {\n  _s();\n\n  var onClickCallback = _ref.onClickCallback;\n\n  var _useState = useState({\n    text: 'Add To Cart',\n    addedToCard: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var router = useRouter();\n\n  var onClick = function onClick() {\n    if (!state.addedToCart) {\n      setState({\n        text: 'Go To Cart',\n        addedToCart: true\n      });\n      onClickCallback();\n    } else {\n      router.push('/cart');\n    }\n  };\n\n  return __jsx(Button, {\n    onClick: onClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, state.text);\n};\n\n_s(AddToCartButton, \"aoTUqui3WL2tnUF16a2Jujx8FdY=\", false, function () {\n  return [useRouter];\n});\n\n_c = AddToCartButton;\n\nvar ProductsList = function ProductsList(_ref2) {\n  _s2();\n\n  var products = _ref2.products;\n\n  var _useContext = useContext(AppContext),\n      globalStore = _useContext.globalStore,\n      updateStore = _useContext.updateStore;\n\n  var user = globalStore.user,\n      cart = globalStore.cart;\n\n  var addProductToCart = function addProductToCart(product) {\n    var cartData = _objectSpread(_objectSpread({}, product), {}, {\n      userId: user._id\n    });\n\n    var updatedCart = _toConsumableArray(cart);\n\n    updatedCart.push(cartData);\n    updateStore('cart', getUniqueProducts(updatedCart));\n    localStorage.setItem('cart', JSON.stringify(cartData));\n  };\n\n  return __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  }, products.map(function (product, i) {\n    var addedToCart = false;\n    return __jsx(Col, {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }\n    }, __jsx(Card, {\n      className: \"p-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 8\n      }\n    }, __jsx(Col, {\n      md: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"product-image\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 10\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      width: \"100%\",\n      height: \"100%\",\n      src: \"http://localhost:1337\".concat(product.displayImage.url),\n      alt: \"Card image cap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }))), __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 10\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, __jsx(CardTitle, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }\n    }, product.name))), __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 10\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, __jsx(CardSubtitle, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 12\n      }\n    }, product.price))), __jsx(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 10\n      }\n    }, __jsx(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, __jsx(AddToCartButton, {\n      onClickCallback: function onClickCallback() {\n        return addProductToCart(product);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 12\n      }\n    })))))));\n  }));\n};\n\n_s2(ProductsList, \"YReJa0j0DkeSzlnIPAj6Be+GUi4=\");\n\n_c2 = ProductsList;\nexport default ProductsList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddToCartButton\");\n$RefreshReg$(_c2, \"ProductsList\");","map":{"version":3,"sources":["C:/my-projects/shoe-store/components/ProductsList.js"],"names":["React","useContext","useState","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Button","Row","Col","useRouter","AppContext","getUniqueProducts","AddToCartButton","onClickCallback","text","addedToCard","state","setState","router","onClick","addedToCart","push","ProductsList","products","globalStore","updateStore","user","cart","addProductToCart","product","cartData","userId","_id","updatedCart","localStorage","setItem","JSON","stringify","map","i","displayImage","url","name","price"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col } from 'reactstrap';\r\nimport { useRouter } from 'next/router';\r\n\r\nimport { AppContext } from '../lib/AppContext';\r\nimport { getUniqueProducts } from '../lib/utils';\r\n\r\nconst AddToCartButton = ({ onClickCallback }) => {\r\n\tconst [state, setState] = useState({ text: 'Add To Cart', addedToCard: false });\r\n\r\n\tconst router = useRouter();\r\n\r\n\tconst onClick = () => {\r\n\t\tif (!state.addedToCart) {\r\n\t\t\tsetState({ text: 'Go To Cart', addedToCart: true });\r\n\t\t\tonClickCallback();\r\n\t\t} else {\r\n\t\t\trouter.push('/cart');\r\n\t\t}\r\n\t};\r\n\treturn <Button onClick={onClick}>{state.text}</Button>;\r\n};\r\n\r\nconst ProductsList = ({ products }) => {\r\n\tconst { globalStore, updateStore } = useContext(AppContext);\r\n\r\n\tconst { user, cart } = globalStore;\r\n\r\n\tconst addProductToCart = (product) => {\r\n\t\tconst cartData = { ...product, userId: user._id };\r\n\t\tlet updatedCart = [...cart];\r\n\t\tupdatedCart.push(cartData);\r\n\t\tupdateStore('cart', getUniqueProducts(updatedCart));\r\n\t\tlocalStorage.setItem('cart', JSON.stringify(cartData));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t{products.map((product, i) => {\r\n\t\t\t\tconst addedToCart = false;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Col key={i}>\r\n\t\t\t\t\t\t<Card className='p-2'>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t<div className='product-image'>\r\n\t\t\t\t\t\t\t\t\t\t<CardImg\r\n\t\t\t\t\t\t\t\t\t\t\ttop\r\n\t\t\t\t\t\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\t\t\t\t\t\theight='100%'\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={`http://localhost:1337${product.displayImage.url}`}\r\n\t\t\t\t\t\t\t\t\t\t\talt='Card image cap'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardTitle>{product.name}</CardTitle>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardSubtitle>{product.price}</CardSubtitle>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<AddToCartButton onClickCallback={() => addProductToCart(product)} />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default ProductsList;\r\n"]},"metadata":{},"sourceType":"module"}