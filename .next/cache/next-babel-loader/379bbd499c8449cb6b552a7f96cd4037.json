{"ast":null,"code":"var _jsxFileName = \"C:\\\\my-projects\\\\shoe-store\\\\pages\\\\signin.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport qs from 'querystring';\nimport { useRouter } from 'next/router';\nimport withAuth from '../lib/withAuth';\n\nconst Signin = props => {\n  const router = useRouter();\n  const {\n    0: email,\n    1: setEmail\n  } = useState();\n  const {\n    0: password,\n    1: setPassword\n  } = useState();\n\n  const submitForm = async e => {\n    e.preventDefault();\n    const opts = {\n      identifier: email,\n      password\n    };\n    const res = await fetch('http://localhost:1337/auth/local', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n      },\n      body: qs.stringify(opts)\n    });\n    const response = await res.json();\n    document.cookie = `jwt=${response.jwt}; path=/`;\n    router.push('/');\n  };\n\n  return __jsx(Form, {\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 3\n    }\n  }, __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }\n  }, __jsx(Label, {\n    for: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, \"Email\"), __jsx(Input, {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"Enter Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  })), __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, __jsx(Label, {\n    for: \"password1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"Password\"), __jsx(Input, {\n    type: \"password\",\n    name: \"password\",\n    id: \"password1\",\n    onChange: e => setPassword(e.target.value),\n    placeholder: \"Enter Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  })), __jsx(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, \"Submit\"));\n};\n\nexport default withAuth(Signin, {\n  logoutRequired: true\n});","map":{"version":3,"sources":["C:/my-projects/shoe-store/pages/signin.js"],"names":["React","useState","Button","Form","FormGroup","Label","Input","FormText","qs","useRouter","withAuth","Signin","props","router","email","setEmail","password","setPassword","submitForm","e","preventDefault","opts","identifier","res","fetch","method","headers","body","stringify","response","json","document","cookie","jwt","push","target","value","logoutRequired"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,KAAzC,EAAgDC,QAAhD,QAAgE,YAAhE;AACA,OAAOC,EAAP,MAAe,aAAf;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,QAAP,MAAqB,iBAArB;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AACzB,QAAMC,MAAM,GAAGJ,SAAS,EAAxB;AACA,QAAM;AAAA,OAACK,KAAD;AAAA,OAAQC;AAAR,MAAoBd,QAAQ,EAAlC;AACA,QAAM;AAAA,OAACe,QAAD;AAAA,OAAWC;AAAX,MAA0BhB,QAAQ,EAAxC;;AAEA,QAAMiB,UAAU,GAAG,MAAOC,CAAP,IAAa;AAC/BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,IAAI,GAAG;AACZC,MAAAA,UAAU,EAAER,KADA;AAEZE,MAAAA;AAFY,KAAb;AAIA,UAAMO,GAAG,GAAG,MAAMC,KAAK,CAAC,kCAAD,EAAqC;AAC3DC,MAAAA,MAAM,EAAE,MADmD;AAE3DC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAFkD;AAK3DC,MAAAA,IAAI,EAAEnB,EAAE,CAACoB,SAAH,CAAaP,IAAb;AALqD,KAArC,CAAvB;AAOA,UAAMQ,QAAQ,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAvB;AACAC,IAAAA,QAAQ,CAACC,MAAT,GAAmB,OAAMH,QAAQ,CAACI,GAAI,UAAtC;AACApB,IAAAA,MAAM,CAACqB,IAAP,CAAY,GAAZ;AACA,GAhBD;;AAkBA,SACC,MAAC,IAAD;AAAM,IAAA,QAAQ,EAAEhB,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,KAAD;AAAO,IAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,EAEC,MAAC,KAAD;AACC,IAAA,IAAI,EAAC,OADN;AAEC,IAAA,IAAI,EAAC,OAFN;AAGC,IAAA,EAAE,EAAC,OAHJ;AAIC,IAAA,QAAQ,EAAGC,CAAD,IAAOJ,QAAQ,CAACI,CAAC,CAACgB,MAAF,CAASC,KAAV,CAJ1B;AAKC,IAAA,WAAW,EAAC,aALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADD,EAWC,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,KAAD;AAAO,IAAA,GAAG,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,EAEC,MAAC,KAAD;AACC,IAAA,IAAI,EAAC,UADN;AAEC,IAAA,IAAI,EAAC,UAFN;AAGC,IAAA,EAAE,EAAC,WAHJ;AAIC,IAAA,QAAQ,EAAGjB,CAAD,IAAOF,WAAW,CAACE,CAAC,CAACgB,MAAF,CAASC,KAAV,CAJ7B;AAKC,IAAA,WAAW,EAAC,gBALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CAXD,EAqBC,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBD,CADD;AAyBA,CAhDD;;AAkDA,eAAe1B,QAAQ,CAACC,MAAD,EAAS;AAAE0B,EAAAA,cAAc,EAAE;AAAlB,CAAT,CAAvB","sourcesContent":["import React, { useState } from 'react';\r\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\r\nimport qs from 'querystring';\r\nimport { useRouter } from 'next/router';\r\nimport withAuth from '../lib/withAuth';\r\n\r\nconst Signin = (props) => {\r\n\tconst router = useRouter();\r\n\tconst [email, setEmail] = useState();\r\n\tconst [password, setPassword] = useState();\r\n\r\n\tconst submitForm = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst opts = {\r\n\t\t\tidentifier: email,\r\n\t\t\tpassword,\r\n\t\t};\r\n\t\tconst res = await fetch('http://localhost:1337/auth/local', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\r\n\t\t\t},\r\n\t\t\tbody: qs.stringify(opts),\r\n\t\t});\r\n\t\tconst response = await res.json();\r\n\t\tdocument.cookie = `jwt=${response.jwt}; path=/`;\r\n\t\trouter.push('/');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submitForm}>\r\n\t\t\t<FormGroup>\r\n\t\t\t\t<Label for='Email'>Email</Label>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\tplaceholder='Enter Email'\r\n\t\t\t\t/>\r\n\t\t\t</FormGroup>\r\n\t\t\t<FormGroup>\r\n\t\t\t\t<Label for='password1'>Password</Label>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tid='password1'\r\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\tplaceholder='Enter Password'\r\n\t\t\t\t/>\r\n\t\t\t</FormGroup>\r\n\t\t\t<Button>Submit</Button>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default withAuth(Signin, { logoutRequired: true });\r\n"]},"metadata":{},"sourceType":"module"}