{"ast":null,"code":"var _jsxFileName = \"C:\\\\my-projects\\\\shoe-store\\\\components\\\\ProductsList.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext, useState, Fragment } from 'react';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col, Toast } from 'reactstrap';\nimport { useRouter } from 'next/router';\nimport { AppContext } from '../lib/AppContext';\nimport { getUniqueProducts } from '../lib/utils';\n\nconst AddToCartButton = ({\n  onClickCallback\n}) => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    text: 'Add To Cart',\n    addedToCard: false\n  });\n  const router = useRouter();\n\n  const onClick = () => {\n    if (!state.addedToCart) {\n      setState({\n        text: 'Go To Cart',\n        addedToCart: true\n      });\n      onClickCallback();\n    } else {\n      router.push('/cart');\n    }\n  };\n\n  return __jsx(Button, {\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, state.text);\n};\n\nconst ProductsList = ({\n  products\n}) => {\n  const {\n    globalStore,\n    updateStore\n  } = useContext(AppContext);\n  const {\n    0: showToast,\n    1: setShowToast\n  } = useState(false);\n  const {\n    user,\n    cart\n  } = globalStore;\n\n  const addProductToCart = product => {\n    const cartData = _objectSpread({}, product);\n\n    let updatedCart = [...cart];\n    updatedCart.push(cartData);\n    updateStore('cart', getUniqueProducts(updatedCart));\n    localStorage.setItem('cart', JSON.stringify(updatedCart));\n    setShowToast(true);\n    setTimeout(() => setShowToast(false), 500);\n  };\n\n  return __jsx(\"div\", {\n    className: \"product-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, showToast && __jsx(Toast, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 18\n    }\n  }, \"Product Added To cart\"), products.map((product, i) => {\n    const addedToCart = false;\n    return __jsx(Row, {\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 6\n      }\n    }, __jsx(Col, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, __jsx(Card, {\n      className: \"p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 8\n      }\n    }, __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, __jsx(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 10\n      }\n    }, __jsx(\"div\", {\n      className: \"product-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      width: \"100%\",\n      height: \"100%\",\n      src: `http://localhost:1337${product.displayImage.url}`,\n      alt: \"Card image cap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 12\n      }\n    }))), __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 10\n      }\n    }, __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 12\n      }\n    }, __jsx(CardTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, product.name))), __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 12\n      }\n    }, __jsx(CardSubtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, \"Rs. \", product.price))), __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 12\n      }\n    }, __jsx(AddToCartButton, {\n      onClickCallback: () => addProductToCart(product),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }))))))));\n  }));\n};\n\nexport default ProductsList;","map":{"version":3,"sources":["C:/my-projects/shoe-store/components/ProductsList.js"],"names":["React","useContext","useState","Fragment","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Button","Row","Col","Toast","useRouter","AppContext","getUniqueProducts","AddToCartButton","onClickCallback","state","setState","text","addedToCard","router","onClick","addedToCart","push","ProductsList","products","globalStore","updateStore","showToast","setShowToast","user","cart","addProductToCart","product","cartData","updatedCart","localStorage","setItem","JSON","stringify","setTimeout","map","i","displayImage","url","name","price"],"mappings":"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","sourcesContent":["import React, { useContext, useState, Fragment } from 'react';\r\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col, Toast } from 'reactstrap';\r\nimport { useRouter } from 'next/router';\r\n\r\nimport { AppContext } from '../lib/AppContext';\r\nimport { getUniqueProducts } from '../lib/utils';\r\n\r\nconst AddToCartButton = ({ onClickCallback }) => {\r\n\tconst [state, setState] = useState({ text: 'Add To Cart', addedToCard: false });\r\n\r\n\tconst router = useRouter();\r\n\r\n\tconst onClick = () => {\r\n\t\tif (!state.addedToCart) {\r\n\t\t\tsetState({ text: 'Go To Cart', addedToCart: true });\r\n\t\t\tonClickCallback();\r\n\t\t} else {\r\n\t\t\trouter.push('/cart');\r\n\t\t}\r\n\t};\r\n\treturn <Button onClick={onClick}>{state.text}</Button>;\r\n};\r\n\r\nconst ProductsList = ({ products }) => {\r\n\tconst { globalStore, updateStore } = useContext(AppContext);\r\n\tconst [showToast, setShowToast] = useState(false);\r\n\r\n\tconst { user, cart } = globalStore;\r\n\r\n\tconst addProductToCart = (product) => {\r\n\t\tconst cartData = { ...product };\r\n\t\tlet updatedCart = [...cart];\r\n\t\tupdatedCart.push(cartData);\r\n\t\tupdateStore('cart', getUniqueProducts(updatedCart));\r\n\t\tlocalStorage.setItem('cart', JSON.stringify(updatedCart));\r\n\t\tsetShowToast(true);\r\n\t\tsetTimeout(() => setShowToast(false), 500);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='product-container'>\r\n\t\t\t{showToast && <Toast>Product Added To cart</Toast>}\r\n\t\t\t{products.map((product, i) => {\r\n\t\t\t\tconst addedToCart = false;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Row className='mb-2'>\r\n\t\t\t\t\t\t<Col key={i}>\r\n\t\t\t\t\t\t\t<Card className='p-2'>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='product-image'>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardImg\r\n\t\t\t\t\t\t\t\t\t\t\t\ttop\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\t\t\t\t\t\t\theight='100%'\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`http://localhost:1337${product.displayImage.url}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt='Card image cap'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle>{product.name}</CardTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CardSubtitle>Rs. {product.price}</CardSubtitle>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AddToCartButton onClickCallback={() => addProductToCart(product)} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductsList;\r\n"]},"metadata":{},"sourceType":"module"}