{"ast":null,"code":"var _jsxFileName = \"C:\\\\my-projects\\\\shoe-store\\\\components\\\\ProductsList.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext } from 'react';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col } from 'reactstrap';\nimport { useRouter } from 'next/router';\nimport { AppContext } from '../lib/AppContext';\nimport { getUniqueProducts } from '../lib/utils';\n\nconst AddToCartButton = ({\n  onClickCallback\n}) => {\n  const [text, setText] = useState('Add To Cart');\n  const addedToCart = false;\n  const router = useRouter();\n\n  const onClick = () => {\n    if (!addedToCart) {\n      setText('Go To Cart');\n      onClickCallback();\n      addedToCart = true;\n    } else {\n      router.push('/cart');\n    }\n  };\n\n  return __jsx(Button, {\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, test);\n};\n\nconst ProductsList = ({\n  products\n}) => {\n  const {\n    globalStore,\n    updateStore\n  } = useContext(AppContext);\n  const {\n    user,\n    cart\n  } = globalStore;\n\n  const addProductToCard = product => {\n    const cartData = _objectSpread(_objectSpread({}, product), {}, {\n      userId: user._id\n    });\n\n    let updatedCart = [...cart];\n    updatedCart.push(cartData);\n    updateStore('cart', getUniqueProducts(updatedCart));\n    localStorage.setItem('cart', JSON.stringify(cartData));\n  };\n\n  return __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }, products.map((product, i) => {\n    const buttonText = 'Add to Cart';\n    return __jsx(Col, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 6\n      }\n    }, __jsx(Card, {\n      className: \"p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 8\n      }\n    }, __jsx(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"product-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 10\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      width: \"100%\",\n      height: \"100%\",\n      src: `http://localhost:1337${product.displayImage.url}`,\n      alt: \"Card image cap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }))), __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 10\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, __jsx(CardTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    }, product.name))), __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 10\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, __jsx(CardSubtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 12\n      }\n    }, product.price))), __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 10\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, __jsx(AddToCartButton, {\n      onClickCallback: addProductToCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 12\n      }\n    })))))));\n  }));\n};\n\nexport default ProductsList;","map":{"version":3,"sources":["C:/my-projects/shoe-store/components/ProductsList.js"],"names":["React","useContext","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Button","Row","Col","useRouter","AppContext","getUniqueProducts","AddToCartButton","onClickCallback","text","setText","useState","addedToCart","router","onClick","push","test","ProductsList","products","globalStore","updateStore","user","cart","addProductToCard","product","cartData","userId","_id","updatedCart","localStorage","setItem","JSON","stringify","map","i","buttonText","displayImage","url","name","price"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\r\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col } from 'reactstrap';\r\nimport { useRouter } from 'next/router';\r\n\r\nimport { AppContext } from '../lib/AppContext';\r\nimport { getUniqueProducts } from '../lib/utils';\r\n\r\nconst AddToCartButton = ({ onClickCallback }) => {\r\n\tconst [text, setText] = useState('Add To Cart');\r\n\tconst addedToCart = false;\r\n\tconst router = useRouter();\r\n\r\n\tconst onClick = () => {\r\n\t\tif (!addedToCart) {\r\n\t\t\tsetText('Go To Cart');\r\n\t\t\tonClickCallback();\r\n\t\t\taddedToCart = true;\r\n\t\t} else {\r\n\t\t\trouter.push('/cart');\r\n\t\t}\r\n\t};\r\n\treturn <Button onClick={onClick}>{test}</Button>;\r\n};\r\n\r\nconst ProductsList = ({ products }) => {\r\n\tconst { globalStore, updateStore } = useContext(AppContext);\r\n\r\n\tconst { user, cart } = globalStore;\r\n\r\n\tconst addProductToCard = (product) => {\r\n\t\tconst cartData = { ...product, userId: user._id };\r\n\t\tlet updatedCart = [...cart];\r\n\t\tupdatedCart.push(cartData);\r\n\t\tupdateStore('cart', getUniqueProducts(updatedCart));\r\n\t\tlocalStorage.setItem('cart', JSON.stringify(cartData));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t{products.map((product, i) => {\r\n\t\t\t\tconst buttonText = 'Add to Cart';\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Col key={i}>\r\n\t\t\t\t\t\t<Card className='p-2'>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t<div className='product-image'>\r\n\t\t\t\t\t\t\t\t\t\t<CardImg\r\n\t\t\t\t\t\t\t\t\t\t\ttop\r\n\t\t\t\t\t\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\t\t\t\t\t\theight='100%'\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={`http://localhost:1337${product.displayImage.url}`}\r\n\t\t\t\t\t\t\t\t\t\t\talt='Card image cap'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardTitle>{product.name}</CardTitle>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardSubtitle>{product.price}</CardSubtitle>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<AddToCartButton onClickCallback={addProductToCard} />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default ProductsList;\r\n"]},"metadata":{},"sourceType":"module"}