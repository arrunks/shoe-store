{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport cookies from 'next-cookies';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, Dropdown, DropdownToggle, DropdownMenu, DropdownItem, NavbarText, Button, Badge } from 'reactstrap';\nimport { AppContext } from '../lib/AppContext';\n\nconst Header = () => {\n  const {\n    globalStore\n  } = useContext(AppContext);\n  const {\n    user,\n    cart\n  } = globalStore;\n  const router = useRouter();\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  const {\n    0: dropdownOpen,\n    1: setDropdownOpen\n  } = useState(false);\n\n  const toggleDropdown = () => setDropdownOpen(prevState => !prevState);\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  const doLogout = () => {\n    document.cookie = 'jwt=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT';\n    router.reload('/');\n  };\n\n  const goToOrders = () => {\n    router.push('/orders');\n  };\n\n  const cartCount = cart.length > 0 ? `${cart.length}` : '0';\n  return __jsx(\"div\", {\n    className: \"navbar-container\"\n  }, __jsx(Navbar, {\n    expand: \"md\"\n  }, __jsx(NavbarBrand, {\n    href: \"/\"\n  }, \"Shoe Store\"), __jsx(NavbarToggler, {\n    onClick: toggle\n  }), __jsx(Collapse, {\n    isOpen: isOpen,\n    navbar: true\n  }, __jsx(Nav, {\n    className: \"ml-auto\",\n    navbar: true\n  }, __jsx(NavItem, null, __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(Button, {\n    className: \"mr-2\"\n  }, \"Cart \", __jsx(Badge, {\n    color: \"secondary\"\n  }, cartCount)))), user && __jsx(React.Fragment, null, __jsx(NavItem, null, __jsx(Dropdown, {\n    isOpen: dropdownOpen,\n    toggle: toggleDropdown\n  }, __jsx(DropdownToggle, {\n    caret: true\n  }, user.username), __jsx(DropdownMenu, null, __jsx(DropdownItem, {\n    onClick: doLogout\n  }, \"Logout\"), __jsx(DropdownItem, {\n    onClick: goToOrders\n  }, \"Orders\"))))), !user && __jsx(React.Fragment, null, __jsx(NavItem, null, __jsx(Link, {\n    href: \"/signin\"\n  }, __jsx(Button, {\n    className: \"mr-2\"\n  }, \"Sign in\"))), __jsx(NavItem, null, __jsx(Link, {\n    href: \"/signup\"\n  }, __jsx(Button, null, \"Sign up\"))))))));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}