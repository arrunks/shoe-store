{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{\"3OM0\":function(e,t,n){\"use strict\";var r=n(\"wx14\"),a=n(\"zLVn\"),o=n(\"q1tI\"),i=n.n(o),s=n(\"17x9\"),c=n.n(s),l=n(\"TSYQ\"),u=n.n(l),d=n(\"33Jr\"),f=c.a.oneOfType([c.a.number,c.a.string]),p=c.a.oneOfType([c.a.string,c.a.number,c.a.shape({size:f,order:f,offset:f})]),b={children:c.a.node,hidden:c.a.bool,check:c.a.bool,size:c.a.string,for:c.a.string,tag:d.i,className:c.a.string,cssModule:c.a.object,xs:p,sm:p,md:p,lg:p,xl:p,widths:c.a.array},m={tag:\"label\",widths:[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"]},h=function(e,t,n){return!0===n||\"\"===n?e?\"col\":\"col-\"+t:\"auto\"===n?e?\"col-auto\":\"col-\"+t+\"-auto\":e?\"col-\"+n:\"col-\"+t+\"-\"+n},v=function(e){var t=e.className,n=e.cssModule,o=e.hidden,s=e.widths,c=e.tag,l=e.check,f=e.size,p=e.for,b=Object(a.a)(e,[\"className\",\"cssModule\",\"hidden\",\"widths\",\"tag\",\"check\",\"size\",\"for\"]),m=[];s.forEach((function(t,r){var a=e[t];if(delete b[t],a||\"\"===a){var o,i=!r;if(Object(d.d)(a)){var s,c=i?\"-\":\"-\"+t+\"-\";o=h(i,t,a.size),m.push(Object(d.f)(u()(((s={})[o]=a.size||\"\"===a.size,s[\"order\"+c+a.order]=a.order||0===a.order,s[\"offset\"+c+a.offset]=a.offset||0===a.offset,s))),n)}else o=h(i,t,a),m.push(o)}}));var v=Object(d.f)(u()(t,!!o&&\"sr-only\",!!l&&\"form-check-label\",!!f&&\"col-form-label-\"+f,m,!!m.length&&\"col-form-label\"),n);return i.a.createElement(c,Object(r.a)({htmlFor:p},b,{className:v}))};v.propTypes=b,v.defaultProps=m,t.a=v},BsWD:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(\"a3WO\");function a(e,t){if(e){if(\"string\"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},L3zb:function(e,t,n){\"use strict\";var r=n(\"wx14\"),a=n(\"zLVn\"),o=n(\"JX7q\"),i=n(\"dI71\"),s=n(\"q1tI\"),c=n.n(s),l=n(\"17x9\"),u=n.n(l),d=n(\"TSYQ\"),f=n.n(d),p=n(\"33Jr\"),b={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:p.i,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(o.a)(n)),n.focus=n.focus.bind(Object(o.a)(n)),n}Object(i.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.type,i=e.bsSize,s=e.valid,l=e.invalid,u=e.tag,d=e.addon,b=e.plaintext,m=e.innerRef,h=Object(a.a)(e,[\"className\",\"cssModule\",\"type\",\"bsSize\",\"valid\",\"invalid\",\"tag\",\"addon\",\"plaintext\",\"innerRef\"]),v=[\"radio\",\"checkbox\"].indexOf(o)>-1,y=new RegExp(\"\\\\D\",\"g\"),g=u||(\"select\"===o||\"textarea\"===o?o:\"input\"),w=\"form-control\";b?(w+=\"-plaintext\",g=u||\"input\"):\"file\"===o?w+=\"-file\":v&&(w=d?null:\"form-check-input\"),h.size&&y.test(h.size)&&(Object(p.j)('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.'),i=h.size,delete h.size);var O=Object(p.f)(f()(t,l&&\"is-invalid\",s&&\"is-valid\",!!i&&\"form-control-\"+i,w),n);return(\"input\"===g||u&&\"function\"===typeof u)&&(h.type=o),h.children&&!b&&\"select\"!==o&&\"string\"===typeof g&&\"select\"!==g&&(Object(p.j)('Input with a type of \"'+o+'\" cannot have children. Please use \"value\"/\"defaultValue\" instead.'),delete h.children),c.a.createElement(g,Object(r.a)({},h,{ref:m,className:O}))},t}(c.a.Component);m.propTypes=b,m.defaultProps={type:\"text\"},t.a=m},ODXe:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(\"BsWD\");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}},a3WO:function(e,t,n){\"use strict\";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,\"a\",(function(){return r}))},ef60:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/checkout\",function(){return n(\"fdRS\")}])},fdRS:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),a=n.n(r),o=n(\"v8KW\"),i=n(\"YF9m\");function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var c=\"https://js.stripe.com/v3\",l=/^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/,u=\"loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used\",d=null,f=function(e){return null!==d?d:d=new Promise((function(t,n){if(\"undefined\"!==typeof window)if(window.Stripe&&e&&console.warn(u),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^=\"'.concat(c,'\"]')),t=0;t<e.length;t++){var n=e[t];if(l.test(n.src))return n}return null}();r&&e?console.warn(u):r||(r=function(e){var t=e&&!e.advancedFraudSignals?\"?advancedFraudSignals=false\":\"\",n=document.createElement(\"script\");n.src=\"\".concat(c).concat(t);var r=document.head||document.body;if(!r)throw new Error(\"Expected document.body not to be null. Stripe.js requires a <body> element.\");return r.appendChild(n),n}(e)),r.addEventListener(\"load\",(function(){window.Stripe?t(window.Stripe):n(new Error(\"Stripe.js not available\"))})),r.addEventListener(\"error\",(function(){n(new Error(\"Failed to load Stripe.js\"))}))}catch(a){return void n(a)}else t(null)}))},p=function(e,t){if(null===e)return null;var n=e.apply(void 0,s(t));return function(e){e&&e._registerWrapper&&e._registerWrapper({name:\"stripe-js\",version:\"1.5.0\"})}(n),n},b=Promise.resolve().then((function(){return f(null)})),m=!1;b.catch((function(e){m||console.warn(e)}));var h=n(\"eWwy\"),v=n(\"o0o1\"),y=n.n(v),g=n(\"HaE+\"),w=n(\"ODXe\"),O=n(\"h4VS\"),j=n(\"nOHt\"),S=n.n(j),x=n(\"ok1R\"),z=n(\"rhny\"),E=n(\"3OM0\"),T=n(\"L3zb\"),k=n(\"sOKU\"),A=n(\"7zi5\"),C=(n(\"xsJj\"),n(\"lTCR\")),N=n.n(C),R=n(\"ttZb\"),P=a.a.createElement;function _(){var e=Object(O.a)([\"\\n\\tmutation createOrder($type: createOrderInput!) {\\n\\t\\tcreateOrder(input: $type) {\\n\\t\\t\\torder {\\n\\t\\t\\t\\tid\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\"]);return _=function(){return e},e}var I=N()(_()),M=function(){var e=Object(r.useContext)(A.a),t=e.globalStore,n=e.updateStore,a=Object(r.useState)(),o=a[0],i=a[1],s=Object(R.b)(I),c=Object(w.a)(s,1)[0],l=t.user,u=t.cart,d=Object(r.useState)(!1),f=(d[0],d[1],Object(r.useState)(null)),p=f[0],b=f[1],m=Object(r.useState)(\"\"),v=(m[0],m[1],Object(r.useState)(!0)),O=v[0],j=v[1],C=Object(r.useState)(\"\"),N=C[0],_=C[1],M=Object(h.useStripe)(),J=Object(h.useElements)(),L=u.reduce((function(e,t){return e+t.price}),0);Object(r.useEffect)((function(){L&&window.fetch(\"/api/stripe\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({amount:L})}).then((function(e){return e.json()})).then((function(e){_(e.clientSecret)}))}),[L]);var W=function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t.empty),b(t.error?t.error.message:\"\");case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!O){e.next=2;break}return e.abrupt(\"return\",!1);case 2:return e.next=4,M.confirmCardPayment(N,{payment_method:{card:J.getElement(h.CardElement),billing_details:{address:{city:\"delhi\",country:\"US\",line1:\"adf\",line2:null,postal_code:\"18888\",state:\"dehli\"},email:l.email,name:l.username,phone:\"+15555555555\"}}});case 4:e.sent,t=u.reduce((function(e,t){return e.push(t.id),e}),[]),c({variables:{type:{data:{user:l._id,products:t,shippingAddress:o,amount:L}}}}),n(\"cart\",[]),localStorage.setItem(\"cart\",JSON.stringify([])),S.a.push(\"/orders\");case 10:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return P(\"div\",null,!u&&P(\"p\",null,\"No Order in place.\"),u&&P(x.a,null,P(z.a,null,P(\"div\",{className:\"transparent-container\"},P(\"p\",null,\"Total Price: Rs. \",L),P(\"div\",null,P(x.a,null,P(z.a,null,P(E.a,null,\"Enter Card Information\"),P(h.CardElement,{className:\"card-number-element\",options:{style:{base:{color:\"#32325d\",fontFamily:\"Arial, sans-serif\",fontSmoothing:\"antialiased\",fontSize:\"16px\",\"::placeholder\":{color:\"#32325d\"},backGroundColor:\"#ffffff\",height:\"400px\"},invalid:{color:\"#fa755a\",iconColor:\"#fa755a\"}}},onChange:W}))),P(x.a,null,P(z.a,null,P(E.a,null,\"Shipping Address:\"),P(T.a,{type:\"textarea\",name:\"text\",id:\"shippingAddress\",onChange:function(e){return i(e.target.value)}}))),P(x.a,null,P(z.a,null,P(k.a,{onClick:q,className:\"mt-4\"},\"Place Order\"),p&&P(\"div\",{className:\"card-error\",role:\"alert\"},p),P(\"p\",null,'Testing Card Number: \"4000056655665556\"'),P(\"p\",null,\"This is a demo application only and no item will be delivered.\")))))),P(z.a,null,P(z.a,{md:6},P(\"img\",{src:\"https://www.internationalscienceediting.com/wp-content/uploads/2017/06/logo-stripe.png\"})))))},J=a.a.createElement,L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m=!0,b.then((function(e){return p(e,t)}))}(\"pk_test_w33b2TAjMtPoB66rJb0jx4hL00Cp3TbzQk\");t.default=Object(o.a)(Object(i.a)((function(){return J(\"div\",null,J(\"h2\",null,\"Checkout\"),J(h.Elements,{stripe:L},J(M,null)))})),{loginRequired:!0})}},[[\"ef60\",1,0,2,3,4,5,6]]]);","extractedComments":[]}